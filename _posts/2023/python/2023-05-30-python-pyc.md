---
title: Python - 인터프리터와 컴파일러
author_profile: true
read_time: true
comments: true
share: true
related: true
categories:
- Python
toc: true
toc_sticky: true
toc_label: 목차
description: 파이썬 인터프리터와 컴파일러
article_tag1: python
article_tag2: interpreter
article_tag3: compiler
article_section: python interpreter compiler
meta_keywords: python, interpreter, compiler
last_modified_at: '2023-05-30 21:00:00 +0800'
---


## 파이썬 파일을 실행하면 생성되는 파일 **.pyc**

python으로 코드를 구성한 프로그램을 실행하면 .pyc라는 파일이 생긴다. 
구체적으로 살펴보면 \_\_pycache\_\_ 라는 디렉토리 밑에 패키지마다 .pyc 파일이 생성된다.

이 파일이 왜 생기는지 알아보기 위해서 컴파일러와 인터프리터에 대해서 다시 정리할 필요가 있다.


### **.pyc** 파일은 무엇일까?

Python에서는 *.py 파일을 실행시킬 때 아래의 단계를 거친다.

**1 단계** : 사람이 코드한 파일인 *.py를 파이썬 가상 머신(Python Virtual Machine)이 이해할 수 있는 Byte codes 형태로 변환(컴파일)한다.

**2 단계** : 이 변환(컴파일)된 Byte codes를 파이썬 가상 머신이 실행한다.


### 왜 이렇게 단계를 구분한 것일까?

(신속한 실행) 다음에 실행할 때는 단계 1을 거치지 않고 단계 2로 넘어가서 캐시화된 임시파일(*.pyc)을 실행하여 속도를 높인다.
위와 같이 파이썬에서도 컴파일 과정을 거치는데 컴파일이라는 용어에 대해서 다시 알아보자


## 컴퓨터가 사람의 명령을 해석하는 과정

컴퓨터는 사람의 명령을 최종적으로 0, 1로 해석하여 처리한다. 컴퓨터가 인식할 수 있는 0, 1로 구성된 코드를 이진 코드 또는 바이너리 코드(binary code)라고 한다. 
사람이 작성한 코드를 컴퓨터가 이해할 수 있는 이진코드로 해석과정이 필요하다. 이 번역해주는 번역기가 인터프리터, 컴파일러이다.

둘 다 고레벨 언어로 작성된 프로그래밍 언어를 기계어로 번역하는 것은 공통점이다.


## 컴파일이란?

컴파일은 하나의 언어 코드를 다른 언어로 변환하는 것을 말한다. 
(의미에 변화가 있었던 것일까?) 컴파일 언어라고 하면 런타임 전에 기계어 코드로 번역되는 언어를 말한다. 

그런데 변환되는 언어가 바로 기계어가 아니라 중간단계에서 다른 언어로 변환되는 경우도 있다.

### **TypeScript**
TypeScript의 경우 JavaScript로 코드로 변환되는 과정을 거친다. ① 타입스크립트 컴파일러(TSC)는 타입스크립트 코드를 추상 구문 트리(Abstract Syntax Tree, AST)라는 자료구조로 코드를 변환한다. ② 타입검사기(Typechecker)가 코드의 타입 안정성을 검증하고, ③ 타입스크립트 AST에 의해서 자바스크립트 소스로 변환하게 된다. 
 이후부터는 다시 **JavaScript**의 과정이다. ④ 자바스크립트 소스는 자바스크립트 AST로 변환, ⑤ AST에 의해 Bytecode로 변환한다.⑥ Runtime에 의해서 Bytecode를 평가하고 처리한다.

> (**Abstract Syntax Tree란?**, AST(추상 구문 트리)는 프로그래밍 언어의 문법에 따라 소스 코드 구조를 표시하는 계층적 프로그램 표현이다. 자바스크립트 코드를 실행 단위인 Bytecode로 변환시키기 위한 자료 구조이다.)

### **JAVA**
JAVA 의 경우에는 JAVAC를 통해 바이트코드로 컴파일되고, 자바 인터피리터에 의해서 한 줄 씩 해석하여 기계어로 변환한다.
자바는 인터프리트 방식, 컴파일 방식을 사용한다.

Java에서 인터프티트, 컴파일 과정을 예로들면, javac 명령어를 통해 helloworld.java 파일을 자바 컴파일러(javac)가 helloworld.class로 변환시키고 자바 인터프리터를 통해 기계어로 변환한다.

> .java -> 컴파일러(javac) -> .class -> 인터프리터 -> 기계어

각 언어마다 변환 과정의 차이가 있을 뿐이다.


## 인터프리터 vs 컴파일 방식

**(인터프리트)** 런타임 전에 기계어로 컴파일 되는 과정을 거치지 않고 소스코드 해석기(파이썬 가상머신, 실행환경)에 의해서 프로그래밍을 할 때마다 동시에 컴퓨터에서 해석해주는 방식을 **인터프리트(interpret)** 방식이라고 한다.
고급 언어로 작성된 프로그램을 한줄씩 번역해서 컴퓨터 OS에서 인식하는 기계어로 변역하는 역할을 수행한다.

**(컴파일)** 프로그래밍이 다 이루어지고 나면 전체를 한번에 컴퓨터에게 해석해 주는 것을 **컴파일(compile)** 방식이라고 한다.

파이썬은 작성된 소스 코드를 한 줄씩 해석하는 인터프리트 방식입니다. 이런 작업을 수행하는 것은 파이썬 셸이며 인터프리터(interpreter)라고 한다.


## 파이썬에서는 소스 코드 변환 과정

> .py 파일은 -> Byte code로 '변환'하여 .pyc 파일이 된다.


## .pyc 파일이란?

PYC 파일은 Python 프로그래밍 언어로 작성된 소스 코드에서 생성된 컴파일된 출력 파일이다.

## 파이썬 가상 머신

파이썬 가상 머신(virtual machine)은 컴파일러와 인터프리터가 있다.

인터프리터는 .py 파일에 작성된 원시 파이썬 코드를 곧바로 해석할 수 없다
그렇기 때문에 우선 원시 코드는 byte 코드로 변환되어야 한다. 이 과정에서 .pyc 파일이 생성되고 그 안에 byte 코드가 작성된다.

Python 인터프리터를 사용하여 PY 파일을 실행하면 실행을 위해 바이트 코드로 변환된다. 

## 파이썬 .pyc 파일 재사용(캐시)
.pyc 파일을 두게되면 이 파일을 캐시에서 재사용할 수 있다. 처음부터 다시 byte 코드로 변환하는 것이 아니라 캐시상태에서 byte 코드를 저장하게 된다.
또한, 이 byte 코드를 파이썬 인터프리터로 실행하기 때문에 속도가 향상된다.
 
## 결론

최종적으로 기계어로 변환하여 컴퓨터가 이해할 수 있도록 하는 과정을 거치는 것은 같다. 인터프리트와 컴파일의 차이는 소스 코드를 컴퓨터에게 해석하게 하는데 어떤 도구로 해석하게 할지, 어떤 순서를 거쳐서 해석할지의 차이라고 볼 수 있다.